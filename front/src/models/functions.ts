export const intersperse = (x: ((idx: number) => any), arr: any[]) => arr.flatMap((e, idx) => [e, x(idx)]).slice(0, -1)